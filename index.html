<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Attendance</title>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Define student ID
            const studentID = '123456'; // Replace with the actual student ID
            const phoneNumber = '2347039285593'; // Replace with the actual phone number

            // Define messages
            const resumedMessage = `Student with ID ${studentID} has just resumed school.`;
            const leavingMessage = `Student with ID ${studentID} is just leaving school.`;

            // Check localStorage for visit count
            let visitCount = localStorage.getItem('visitCount');
            let messageForWhatsApp = '';

            if (!visitCount) {
                // First scan: Resumed message
                localStorage.setItem('visitCount', '1');
                messageForWhatsApp = resumedMessage;
            } else {
                // Second scan: Leaving message
                localStorage.removeItem('visitCount');
                messageForWhatsApp = leavingMessage;
            }

            // Redirect to WhatsApp with the appropriate message
            const whatsappURL = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(messageForWhatsApp)}`;
            window.location.href = whatsappURL;
        });
    </script>
</head>
<body>
    <h1>Redirecting to WhatsApp...</h1>
</body>
</html>
